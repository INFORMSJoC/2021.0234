today s internet industri suffer sever well-known patholog none as destruct long term resist new servic isp present toward commodit appar network s primit system contract not incent properli studi network s lack account fundament obstacl problem econom model optim rout innov imposs new monitor capabl contract system furthermor minimum requir monitor system first-best rout innov characterist work not new protocol rather practic specif guidanc design system as well theoret framework factor influenc innov categori subject descriptor c24 [ computer-commun network ] system j4 [ social behavior scienc ] econom gener term econom theori measur design legal aspect introduct mani studi internet s resist new servic evolut recent decad numer idea univers code even router end system network onli network oper larg scale list multicast ipv6 intserv diffserv incent just servic littl hope isp adequ resourc new idea long term patholog critic obstacl network s success ratnasami shenker mccann extens discuss ] time scale isp new servic favor cost cut measur thu network characterist commod market theori isp plethora polici dispos prevail strategi way possibl [ ] hand directli importantli commodit short term sure lack innov long term rout decis other qualiti characterist isp onli cost simpli reward new servic qualiti improv respons patholog other research variou propos situat high-level strategi first attempt statu quo end-us clark al end-us control servic divers payment mechan also [ ] ratnasami shenker mccann link network evolut user-direct rout ] system anycast end-us abil packet isp desir protocol extra traffic isp author initi invest second strategi revis contract system mackie-mason varian smart market access network resourc ] price market-clear level bid user traffic direct afergan wroclawski price explicitli rout ] move stabil align incent third high-level strategi network account vein argyraki al system packet obituari feedback isp drop packet ] such feedback isp adequ contractu oblig first strategi not awar previou studi account patholog commodit lack innov clear strategi close other exampl ] ] ] argu end-us control current contract system problemat today howev relationship poorli understood current littl theoret foundat rel merit propos particular lack evid account innov servic differenti paper issu econom network model account contract competit innov model highli preliminari singl sourc data singl destin nevertheless structur rich enough previous unseen featur network behavior model main purpos first model lack account today s network fundament obstacl patholog commodit lack innov other word new monitor capabl system contract network not optim rout innov characterist result motiv remaind paper account patholog sustain industri problem clean-slat perspect level account ideal competit structur today s internet poor account littl inform behavior misbehavior isp well-known trait larg network s histori design philosophi internet protocol clark account import second level goal ] accordingli account littl attent network s form year clark network s militari context network commerci develop account top prioriti argyraki al conjectur principl layer transpar network s lack account ] principl host network problem onli extent packet so congest control retransmit packet detail drop deliber network s lack account highli relev discuss innov system contract contract extern institut judg languag incomplet contract theori simpli legal system ultim judg not condit not contract condit cours vast major contract never court especi judg s rule easili parti typic contract term own volit not possibl howev judg last resort institut contract typic complex contract algorithm payment transfer set isp parti time payment function past present behavior particip onli verifi henc contract onli proof input process contract monitor monitor meter devic physic network gener concept proof particular behavior read variou devic mani isp contract monitor distribut algorithm mechan isp share privat inform figur model contract togeth assumpt payment contract contract monitor latenc payment not latenc figur relationship monitor contract model level account today s internet onli effort contract node not payment qualiti path characterist there anyth wrong best-effort contract reader internet contract non-network industri tradit firm research product hope custom new one such market forc isp as well null hypothesi null hypothesi market forc suffici servic divers innov network same extent tradit market popular intuit argument hypothesi intuit argument null hypothesi access provid qualiti consum access provid custom second hop isp second hop tri highqual servic order traffic access provid access provid high qualiti transit qualiti process network isp competit reason qualiti care network continu time order essenc argument exampl equilibria node new next hop event qualiti drop moreov model theoret possibl punish cheater costli end-us contrast custom real world rare respond collect often simpli deal current constraint abil cheater even liber assumpt howev null hypothesi model cheat isp difficult low account threat market driven punish index commodit show bound data path long furthermor framework isp s research invest hyperbol distanc end-us network behavior monitor contract proof internet lack account patholog commodit lack innov next topic account patholog question clean-slat perspect instead increment improv ideal industri then level account object approach first new equilibrium concept appropri network competit concept follow requir first isp cheat path rerout like end-us provid access provid punish correctli next equilibrium not coalit isp exchang side payment final punish mechan contract not innoc node not coalit last requir somewhat unconvent econom perspect crucial reason solut isp complementari servic data path togeth like horizont competitor well innoc node isp deliber punish neighbor isp resourc therebi punish damag other isp probabl cheater directli custom extrem case cheater other isp busi therebi monopoli rout equilibrium concept monitor innov rout solut surprisingli simpl contract monitor qualiti rest path isp destin correct minimum account requir end-to-end monitor hop-by-hop monitor initi rest path monitor variou way pure local algorithm packet echo altern natur way rest path monitor monitor individu isp qualiti data path mechan isp share monitor output other rest path monitor then compon monitor distribut algorithm mechan inform exampl other type monitor use build block rest path monitor order ideal innov characterist studi sever practic implic futur protocol design new monitor system patholog commodit lack innov moreov exactli monitor rout support innov addit result use input clean-slat architectur design sever novel techniqu applic varieti futur research rest paper section basic network model section lowaccount network today s internet poor monitor commodit lack innov section verifi monitor proof even contract statu quo section attent contract monitor rest path monitor competit game optim rout innov rest path monitor such competit game such monitor other monitor build block section present sever direct futur research basic network model a sourc s data destin d s d node acycl graph finit set intermedi node nv isp path lead d node not d choic next hop qualiti finit dimension vector space q qualiti space dimens distinct network characterist end-us care exampl latenc loss probabl jitter ip version dimens node i vector qualiti space qqi ∈ qualiti user i onli isp data path n q∈q vector node qualiti cours data pass multipl node qualiti way path qualiti associ binari oper * qqq →× path nvvv qualiti nvvv qqq ∗∗∗ * oper characterist dimens qualiti exampl * addit case latenc multipl case loss probabl minimumargu function case secur data complet path s d sourc destin gener singl player enjoy util function path qualiti →qu node path i cost transmiss ci game dynam ultim interest polici innov network studi innov fairli gener sens innov invest isp qualiti vector potenti data path util new rout algorithm amount jitter user experi also new protocol qualiti servic even broadli new equip s d latenc also innov innov micro-level process network analysi crucial respect invent singl isp end-us experi technolog adopt isp network function such technolog not competit advantag difficult intellectu properti other market distort interest topic futur work first unclear large-scal distribut process such innov mechan detail network monitor model connect realist fashion rate innov profit potenti innov futur reward invent total cost inventor not ration reward turn competit environ firm process firm price agre upon contract other cours decis rout contract actual monetari exchang model network innov relat distinct process innov competit game dynam relat process as explicit possibl schemat figur innov stage first time stage agent not research invest not qualiti invest qualiti way not necessari such chang place agent choic stage vector qualiti q common knowledg rest game next time agent competit stage contract today s industri contract price transit access agreement access best-effort basi transit agreement simpli price other system detail final firm rout stage other research alreadi game rout exampl ] ] repetit reveal effect not visibl singl stage game such inform collus price [ ] game continu time order such properti exampl later player qualiti contract hope custom base futur custom dynam fact isp innov decis infrequ real firm multipl opportun opportun substanti length time qualiti decis focus firm new qualiti contract henc model innov stage singl invest decis contract decis intermedi time scale thu next dynam decis veri frequent mainli immedi profit flow last stage order model not firm strateg futur innov contract decis opposit afergan wroclawski contract respons current traffic pattern feedback loop ] sympathet observ addit analysi intract model realist contract decis infrequ paper solut concept subgam perfect equilibrium spe spe strategi point nash equilibrium subgam import subgam figur innov game stage competit game onli competit stage rout stage rout game onli rout stage spe guarante player forward-look exampl competit stage firm ration profit rout stage not threat innov stage payoff schemat alreadi rout game crucial innov innov competit game reward isp high qualiti rout game node high qualiti rout game alway lowest-cost rout exampl innov not observ analysi later rout game rout game proce continu time player common factor output previou stage q set contract exogen paramet game time node next hop data data result path util flow s d flow cost node path payment flow also contract place game familiar prison dilemma imagin high qualiti costli path loos such path sustain order innov isp path tri own payment net cost not plan rather way cost expens high qualiti so innov game competit game rout game innov stage competit stage stagequ q contract price t = -2 t = -1 t ∈ [ figur game dynam analog prison dilemma such decis cheat littl formal refer action isp contrari target strategi point immedi payoff qualiti data path type relat data path node path next node traffic next node offer high qualiti transit qualiti node price node path next hop immedi profit path qualiti type action cheat rout possibl node way intern forward cost expens own qualiti intern rout exampl node packet rate congest control order back tcp flow thu forward cost ] altern node qualiti servic high prioriti class servic thu resourc perhap high prioriti servic cheat rout intern profit path not equilibrium never instantan rather cheater alway payoff posit time time other player cheat cheater contract custom lock-in period also time custom new isp later social benefici so such lock-in detriment patholog a lowaccount network order explor system section network poor degre account today s internet lack necessarili poor rout rate innov thu network s lack account fundament obstacl patholog account current internet first account present internet argyraki al point end host minim inform packet drop ] user drop not packet innoc signal congest form intern problem similar other dimens qualiti fact acut isp high prioriti class servic exampl further lack even basic diagnost tool fact similarli difficult isp rout huston internet traffic flow not alway inform ] isp hand packet neighbor regardless neighbor furthermor block address togeth distant host destin not even resolv packet diagnost tool tracerout cheater unfortun argyraki al tool onli probe packet not fate past packet ] thu exampl ineffect low-frequ packet drop even fundament sophist cheater alway diagnost packet special treatment further complic cheater differ alias diagnost packet differ rout cheater signific advantag punish bad behavior even data path otherwis observ low-account abov evid current industri veri littl insight behavior network section lack account model monitor model way player extern inform network behavior monitor distribut algorithm mechan network graph output specif node inform statement current past network behavior extern inform network behavior way account properti internet follow monitor e2e end end monitor s/d total path qualiti time qualiti rop rest path monitor node data path qualiti rest path destin prc packet receiv monitor much data other volum import howev inform mani source-destin pair henc sake realism not data path player not qualiti other singl node just rest path node not path next hop last assumpt result critic ingredi node not path specif hop exampl path gener visibl node differ alias differ parent similar result also altern path alway integ number m hop import e2e rop not contract monitor introduct not proof thu even player certain inform gener not credibl share player exampl node first hop cheat first hop sudden drop qualiti rest path first hop not sourc observ sourc first hop cheater claim rest path typic e2e rop algorithm singl node packet echo not onli way howev altern strategi qualiti measur multipl point network measur other monitor variou isp monitor then compon monitor as well whatev mechan place node share inform honestli exampl sourc monitor qualiti individu node path inform rop monitor contract onli proof input payment environ onli number packet player other word contract best-effort remaind section contract also linear constant payment flow so long node accept data condit contract other complic tariff also possibl typic lock-in paramet t0 suffici lock-in effect insight section equal tariff so rout game continu infin attent contract node i contract price pi node not path next hop contract onli node graph arrang contract bilater competit game exclus bilater contract bilater contract competit game first focu rout game high qualiti rout even low qualiti rout requir order node incent node low price next hop regardless qualiti network tendenc index commodit node data path i qualiti premium minppd ji −= pj flow payment next hop equilibrium pmin price cost next hop definit index commodit ci averag node data path i i s flow profit fraction i s qualiti premium dpcp /−− ci node potenti profit qualiti premium node absorb posit profit price next hop high valu ci impli node littl money inflow high qualiti rest path next claim show exactli path long claim onli monitor e2e rop prc ∞→ci ∞→n n number node data path true first follow lemma difficulti node network first bit notat recal cheater action > t other player node cheat profit flow other player perhap traffic node i s normal profit flow iπ profit flow valu yi ratio iiy π/ temptat lemma onli monitor e2e rop prc discount time −nt e cheater as fast product temptat data path ∏ −− pathdataon t rt i rt e y e n π corollari node share minimum temptat π/i discount time cheat increas exponenti length data path n −− t rt nt rt e y e n π discount time exponenti actual time increas exponenti n so larg tn undefin path not equilibrium proof proof proce induct number node equilibrium data path n singl node i node extra profit t rt ii ey π node i then time extra profit lost profit time t t rt i littl manipul −− = t rt i rt e y e π > n induct claim sourc not cheater first hop first hop sourc not data path first hop unabl node new first hop not rest data path sourc first hop farther path first hop need time ∏ hopfirstaft t rt i y π assumpt sourc first hop much time order defector down line sourc poor qualiti period next sourc first hop problem later path first hop full discount time ∏ hopfirstaft t rt i y π sourc first hop long enough extra profit same argument full discount time ∏ −0 pathdataon t rt i y π proof abov lemma corollari show cheater becom difficult data path grow long so imposs intuit result imagin end user sudden drop servic qualiti data onli travel access provid provid s fault busi elsewher time threat provid high qualiti suppos other hand data travers provid isp qualiti down not fault next isp time then normal qualiti access provid truth access provid not even actual offend thu qualiti servic time other hand access provid well case normal servic isp path time recurs fashion lemma hand claim proof claim fix equilibrium data path length n label path … n node i i s qualiti premium ++ −= iii ppd then [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = i i iii n i ii i c g npcp pcp n pcp pp nd pcp n '11 gi node i s temptat price next hop lemma tell tg i ∏ =1 rt et − −= bit calculu ic gi equal t /1 howev ∞→n →n t ∞→ci claim data path grow long increasingli lowest-pric path lowest-pric rout not innov innov length data path claim possibl such result extra assumpt avail bargain path competit market lowcost transit such node destin flow payment lp claim avail bargain path assumpt node i distanc n s qualiti sourc sp rout node i new qualiti then payment i p hyperbol n n l p t − +≤ − rt et − −= bound product temptat previou claim thu i + − s n l p t r qualiti improv bargain path s payment r pl ∞→n proof appendix node farther sourc maximum payment bargain price pl henc reward innov same amount larg innov substanti expens rpl / not deep network claim altern bound much innov network sourc s node i motiv payment p rout stage howev also node way premium order properli claim premium distanc origin payment claim sharp contrast null hypothesi introduct intuit argument hypothesi claim implicitli oversimplifi model market pressur present not now clear market pressur decis custom lack inform henc competit forc network deepen verifi monitor section account network previou section player t convinc other privat inform monitor s inform signal credibl other verifi monitor monitor s output case statement proof string player statement true verifi monitor distribut algorithm mechan network graph output specif node current past network behavior line verifi counterpart e2e rop e2ev ropv monitor node qualiti rest path also other player observ proof verifi monitor singl cheater straightforward cheater node not proof rest path qualiti neg result previou section no exampl follow lemma stand contrast lemma monitor e2ev ropv prc node potenti cheater altern next hop isn t expens possibl data path spe so long maximum temptat finit time − max t rt er y π proof lemma node share cheater onli node equilibrium node not payoff punish lemma mind easi counterexampl claim new environ unfortun reason not monitor system first reason maximum temptat finit distort rout payment node rout posit profit next hop also cours small effect minim second seriou reason alway sourc abil punish real world user like collect simpli servic current punish phase gener drop qualiti real world end-us opportun new access provid node punish third reason lemma not coalit coalit node successor instead secret payment cheat node altern node successor punish phase profit so forth requir discount time punish exponenti number coalit member just previou section final reason not monitor system cheater path often not just offend other node well effect innoc node guilti abstract model doesn t caus troubl punish equilibrium path effect not so benign real world isp lie sequenc data path complementari servic relationship vertic perspect other source-destin pair howev same firm like horizont competitor node deliber order punish neighbor node money extent cheater like punish phase innoc node cheater strateg advantag competitor extrem cheater strategi neighbor busi therebi monopoli rout contract monitor end last section sever drawback environ e2ev ropv prc section drawback third final categori monitor contract monitor simpli verifi monitor input contract thu contract jointli properti monitor institut proof contract court monitor s proof proof contract extent illeg activ payment parti agreement compani tradit matter contract paper task futur network contract plausibl machin numer even per-flow further mani dimens qualiti monitor togeth institut infrastructur criteria subscript c contract reader packet monitor prc isp contract per-packet payment similarli e2ec ropc contract version monitor now familiar end previou section desir properti d solut briefli optim data path equilibrium concept doesn reli re-rout punish coalit proof doesn punish innoc node coalit cheat such equilibrium fixed-rout coalition-proof protect-theinnoc equilibrium next claim show ropc system linear price qualiti contract just equilibrium claim ropc feasibl consist assign rest path qualiti node correspond payment schedul non-neg payoff qualiti bilater contract fixed-rout coalition-proof protect-the-innoc equilibrium proof fix data path consist rest path qualiti monetari punish p larg enough cheat time t0 total payment sourc node path enter contract parent arbitrari payment schedul so long rest path qualiti prescrib parent node ropc proof rest path qualiti contract instantan transfer p downstream node such proof previou interv now coalit c sourc decreas qualiti contract p first hop net outflow p isp whole node i not c order parent node p i proof qualiti path i not cheater i henc i also chang qualiti i p next node path thu innoc node not sequenc payment destin net outflow p node c necessari condit equilibrium essenti ropc implement price qualiti contract result competit game node variou qualiti other specifi price commit perform target even coalit desir other isp exampl stackelberg price-qu competit game partial order node graph complet order such downstream node parent order node contract parent rest path qualiti linear price rout game node next hop time consist advertis rest path qualiti stackelberg price-qu competit game model ropc monitor strategi proof follow use properti claim stackelberg price-qu competit game yield optim rout spe proof appendix properti favor innov perspect firm high qualiti optim path posit payoff gener howev invest extra condit innov decis perfect effici larg innov full analysi here exampl altern player privat inform central author then contract exampl contract cost-minim vcg mechan feigenbaum et al [ ] ropc monitor mechan welfar node i optim path l net payment essenti contribut welfar s d other node l optim path graph i profit flow +−− lj j ijlj jll ccququ lq qualiti path here price qualiti contract node qualiti honestli incent structur vcg mechan node cost accur nice featur game individu innov decis effici node innov invest cost welfar optim data path unfortun sourc util path notic just e2ec version claim bilater price qualiti contract equilibrium fixed-rout coalition-proof not protectthe-innoc contract everyon path end qualiti drop path length n first hop np sourc second hop pay first so forth node suffici cheat unprofit reason previous solut concept ideal malici node deliber punish potenti competitor up point fixed-rout coalition-proof protect-the-innoc equilibrium desir solut concept ropc monitor suffici competit game desir term servic divers innov next claim rest path monitor also necessari such game solut concept game desir perspect servic divers innov veri weak assumpt essenti game not fulli node claim entir class game definit competit game nowhere-commodit node i not adjac d assign qualiti margin cost node such optim data path i i posit temptat case linear contract suffici ∞ < ci node posit profit assign qualiti margin cost strictli ropc monitor not onli way desir game next claim notion rest path monitor similar ropc monitor qualiti own node end path monitor ropc node proof path qualiti next node destin not correct ropc node proof path qualiti node destin correct simplifi version claim assumpt onli node path time conspir still side payment full version proof claim set monitor nowhere-commodit bilater contract competit game alway optim qualiti fixed-rout coalition-proof protect-the-innoc equilibrium onli node time then node i not adjac d either i ropc monitor i s children ropc monitor proof first fixed-rout assumpt punish pure monetari next occur payment not sourc destin coalit member ineffect thu sourc monetari compens net normal flow payment occur sourc onli contract first hop money first hop sourc s contract distinguish path qualiti normal so proof sourc qualiti proof first hop qualiti correct node not ration type proof definit monitor sourc proof path qualiti wrong ropc monitor monitor first hop proof qualiti correct ropc monitor thu monitor protect-the-innoc assumpt cheat occur first hop not cheater abl same size reward next isp path thu pass punish first hop s contract second then occur first hop argument similar sourc first hop ropc monitor second ropc monitor argument entir path penultim node d margin cost qualiti path optim path statement node children proof possibl monitor correspond node burden proof case prior node suboptim qualiti reward other subsequ node qualiti correct penalti monitor similar like compar cost proof costli natur node ropc monitor burden proof upstream node final straightforward full version claim multipl cheater onli complic cheater side payment money transfer rest path monitor case cheater side monitor claim not statement node rest path qualiti local input other node other monitor ropc ropc still loos build block instanc network tomographi properti network interior tool edg such techniqu sourc individu node qualiti data path follow monitor shopc i source-bas hop qualiti monitor sourc proof qualiti node i spathc source-bas path monitor sourc proof data path time as far equilibrium path monitor punish mechan condit claim sourc proof node down path bilater payment ultim howev proof claim node i s bilater contract proof rest path qualiti node i possibl children proof proof rest path qualiti thu combin process rest path monitor rest path monitor spathc shopc i build block new monitor compon monitor algorithm mechan sure node share proof correctli mechan potenti extern institut concret exampl node i poor rest path qualiti successor downstream node court discoveri process court proof path node qualiti sourc ultim threat sourc compli final court judgment parti other proof rest path qualiti henc entir discoveri process rest path monitor rather costli monitor case cours mechan monitor much cost typic such mechan automat share proof court intervent onli last resort interest mechan futur work asid intuit shopc inform ropc individu node qualiti much harder problem path inform shopc i not suffici first-best innov result proof use techniqu claim monitor e2e rop shopc i prc nowhere-commodit bilater contract competit game optim qualiti not assign qualiti margin cost fixed-rout coalition-proof protect-theinnoc equilibrium proof node not data path not proof rest path qualiti henc ropc monitor not therefor requir claim not conclus futur work hope studi posit impact differ way first practic analysi implic design futur monitor protocol public polici protocol design first fresh motiv monitor system poor account internet fundament obstacl patholog commodit lack innov unless account patholog secondli direct futur advanc monitor verifi monitor allow improv characterist competit same time not fulli satisfi solut paper novel standard monitor optim rout innov competit game fixed-rout coalition-proof protect-the-innoc equilibrium bilater contract specif contract rest path monitor not other type monitor unimport exampl individu hop qualiti monitor path monitor also standard competit howev order mechan proof monitor proof rest path qualiti other word monitor ultim contract rest path monitor servic differenti innov rest path monitor directli therebi task mechan compon monitor as far polici implic analysi point need legal institut contract qualiti institut proof qualiti polic illeg behavior quality-bas contract numer possibl machin challeng task new standard regul respons interest unexplor area research second area studi clean-slat architectur design tradit clean-slat design effect eleg network static set requir thu approach often engin competit effect ratnasami shenker mccann evolut top prioriti ] network s monitor abil critic innov institut element promin new design analysi specif architectur bilater contract contract rest path monitor clean-slat perspect monitor transpar fulli rout system final last contribut studi methodolog mathemat formal applic varieti futur research question signific literatur innov presenc network effect knowledg first model innov network industri success actual topolog structur input discoveri new properti such weaken market forc number isp data path lowaccount method also contrast typic approach distribut algorithm mechan design field principle-ag framework contract usual sourc offer network node techniqu allow contract competit framework sourc desir contract reflect industri insight studi possibl direct futur research numer degre qualiti pandora s box question quality-bas contract counter principl network neutral choic contract differ qualiti level anti-competit behavior quality-bas contract contract system support optim multicast tree studi bilater contract system natur especi preval system current network perhap import benefit contract local natur parti share common familiar legal jurisdict need punish isp opposit side planet disput legal rule contract benefit worth other system clearest altern contract sourc node path sourc contract sourc contract surpris advantag instanc isp not money other isp not money next hop addit sourc onli contract node intend path other node even will packet sourc t receiv compens combin temptat singl cheater rout other encourag featur sourc contract fertil topic further studi import research task assumpt qualiti fulli precis possibl monitor onli probabilist suffer nois even relev possibl qualiti monitor fundament incomplet qualiti monitor never dimens qualiti futur applic new valuabl protocol isp introduc monitor space subspac qualiti space monitor qm ⊂ correspond monitor function simpli project full rang qualiti monitor space mqm → clearli innov qualiti invari m not easi invis monitor system environ path monitor import onli way data reach certain innov isp further research process anonym review jen grossklag mosh babaioff scott shenker sylvia ratnasami hal varian comment work part nation scienc foundat itr award ani-0331659 