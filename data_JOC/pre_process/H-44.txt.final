text search tempor document collect such web littl attent research problem consequ scalabl principl solut collect specifi time t work shortcom effici solut time-travel text search file index readi tempor search approxim tempor coalesc tunabl method index size significantli qualiti result order perform time-travel queri techniqu index size perform techniqu optim problem near-optim final approach comprehens seri experi large-scal real-world dataset result unequivoc method possibl effici time machin scalabl larg version text collect categori subject descriptor h31 [ content analysi index ] index method h33 [ inform search retriev ] retriev model search process gener term algorithm experiment perform introduct work time-travel text search tempor document collect keyword queri q time goal relev document collect state time number such version document collect avail today web archiv collabor environ wiki inform feed text search collect howev mostli time-ignor search collect chang time often onli recent version document index version independ separ document even collect particular web archiv internet archiv [ ] comprehens text-search function often complet time-travel text search paper crucial tool collect full potenti follow exampl demonstr documentari past polit scandal journalist research earli opinion statement involv politician appropri queri major web search-engin major return result onli recent coverag mani earli web page onli web archiv queri time point august day scandal web archiv onli specif time thu journalist s inform need document collect web wikipedia [ ] here alreadi larg onli singl snapshot evolutionari histori even data volum consequ na¨ıv approach time-travel text search fail viabl approach scale-up well such larg data volum paper effici solut time-travel text search follow key contribut popular well-studi file index ] transpar time-travel text search tempor coalesc indexs explos result highli accur sublist materi techniqu index perform allow trade space perform comprehens experiment evalu approach english wikipedia part internet archiv large-scal real-world dataset version document remaind paper present work context relat work section model tempor version document collect section present time-travel invert index section build tempor coalesc section section techniqu index perform result experiment evalu section relat relat work mainli follow categori i method explicitli collect version document tempor databas ii method index size document-cont overlap portion index review work categori here knowledg veri littl prior work histor search tempor version document anick flynn [ ] research help-desk system histor queri access cost access recent version farther past burrow hisgen [ ] patent descript method range-bas valu mention potenti use date document recent work nørv˚ag nybø [ ] propos rel simpler problem text-contain queri onli relev score result stack ] report practic experi open sourc search-engin nutch web archiv adapt howev not intend time-travel text search function contrast research tempor databas sever index structur time-evolv databas comprehens overview state-of-art avail [ ] file index applic search not well understood second categori relat work broder al ] describ techniqu larg content overlap document reduct index size techniqu strong assumpt structur document overlap inapplic context recent approach hersovici al ] zhang suel [ ] exploit arbitrari content overlap document index size none approach howev consid time explicitli desir time-travel text search function static techniqu ] aim effect index size portion index low impact queri result also not tempor aspect document thu technic quit differ propos share goal index-s reduct index-prun techniqu along tempor text index here model present work tempor version document collect d follow document d ∈ d sequenc version = dt1 dt2 version dti timestamp ti version version vector searchabl term featur modif document version result insert new version timestamp discret definit time timestamp non-neg integ delet document time ti disappear current state collect insert special tombston version ⊥ valid time-interv val dti version dti [ ti ti+1 version associ timestamp ti+1 exist [ ti now otherwis now possibl valu timestamp ∀t t < now togeth state dt collect time t set version t not delet dt = [ d∈d dti ∈ d | t ∈ val dti dti = ⊥ keyword queri q timestamp t q dt ie state collect time enrich time-travel queri q t breviti retriev model work okapi bm25 ] techniqu not depend choic applic other retriev model tf-idf [ ] languag model ] as well set slightli okapi bm25 w q t dti x v∈q wtf v dti · widf v t abov formula relev w q t dti document version dti time-travel queri q t q t dt so onli version dti valid time t first factor wtf v dti summat further tfscore wtf v dti = + · tf v dti k1 · − b + b · dl d ti avdl ti tf v dti plain term frequenc tf v dti term v version dti account length dl dti version averag document length avdl ti collect time ti length-norm paramet b tf-satur paramet k1 origin okapi bm25 commonli valu respect second factor widf v t idf-scor remaind invers document frequenc term v collect time t widf v t log n t − df v t df v t n t |dt | collect size time t df v t number document collect term v time t idf-scor depend whole corpu queri time t tf-score specif version file index standard techniqu text index mani system section techniqu present extens file index readi time-travel text search invert file index file index vocabulari commonli b+-tree term idfscor invert list index list lv belong term v post form d p d document-identifi p so-cal payload payload p inform term frequenc v d also posit inform term document sort-ord index list queri effici boolean queri favor index list document-ord impact-ord sort index list benefici rank queri enabl optim queri process earli k relev document ] varieti compress techniqu such document identifi compactli [ ] size index list excel recent survey invert file index ] time-travel invert file index order invert file index time travel invert list vocabulari structur explicitli tempor inform main idea invert list valid timeinterv [ tb te post payload inform valid post time-travel file index thu form d p [ tb te d p standard file index [ tb te valid time-interv concret exampl implement version dti okapi bm25 tf-score wtf v dti term v index list lv post d wtf v dti [ ti ti+1 similarli extend vocabulari structur maintain term time-seri idf-scor b+tree tf-score idf-scor term chang corpu therefor simplifi approach idf-scor mainten idf-scor term corpu specif possibl period time queri process process time-travel queri q t queri term correspond idf-scor valid time t extend vocabulari then index list sequenti disk therebi inform post transpar sequenti read knowledgecommon queri techniqu invert file index thu suitabl time-travel queryprocess end sequenti read post valid time-interv not t ∈ [ tb te post onli post disk memori therefor still signific i/o cost remedi index organ techniqu section aim i/o overhead significantli extens file index assumpt sort-ord index list consequ query-process techniqu optim eg compress techniqu equal applic coalesc time-travel invert index previou section version document collect term document version frequent term larg highly-dynam collect time non-coalesc coalesc figur approxim tempor coalesc extrem long index list veri poor perform approxim tempor coalesc techniqu section blowup index-list size observ chang version document collect minor larg part document untouch consequ payload mani post tempor adjac version onli slightli not approxim tempor coalesc number post index list sequenc post almost equal payload maxim error idea figur non-coalesc coalesc score post singl document approxim tempor coalesc greatli effect such fluctuat payload number post exampl notion tempor coalesc origin tempor databas research b¨ohlen al ] simpler problem onli equal inform next formal state problem dealt approxim tempor coalesc comput optim approxim solut note techniqu index list separ follow explan fix term v index list lv input sequenc tempor adjac post d pi [ ti ti+1 d pn−1 [ tn−1 tn sequenc contigu time period term present singl document d term d reappear later multipl input sequenc separ minim length output sequenc post o = d pj [ tj tj+1 d pm−1 [ tm−1 tm follow constraint first o same time-rang = tj tn = tm second subsequ post input singl post output approxim error threshold other word d pi [ ti ti+1 d pj [ tj tj+1 post o respect then chosen error function threshold tj ≤ ti ∧ ti+1 ≤ tj+1 ⇒ error pi pj ≤ paper error function rel error payload ie tf-score document o errrel pi pj |pi − pj| / |pi| optim output sequenc post piecewise-const represent point ti pi minim number segment abov approxim guarante similar problem time-seri segment ] histogram construct [ ] typic dynam program optim solut o n2 m∗ ] time m∗ number segment optim sequenc set key differ onli guarante local error contrast guarante global error aforement set fact optim solut comput mean induct ] o n2 time detail optim algorithm here technic report ] quadrat complex optim algorithm larg dataset work altern linear-tim approxim algorithm sliding-window algorithm [ ] algorithm nearly-optim output sequenc bound rel error possibl few addit segment optim solut tempor coalesc approxim d pi [ ti ti+1 o pmin = pi pmax = pi p = pi tb = ti te = d pj [ tj tj+1 ∈ pmin = min pmin pj pmax = max pmax pj p = optrep pmin pmax errrel pmin p ∧ errrel pmax p then pmin = pmin pmax = pmax p = p te = els o = o ∪ d p [ tb te pmin = pj pmax = pj p = pj tb = tj te = end end o = o ∪ d p [ tb te pass input sequenc so sequenc post maxim length optim repres sequenc post onli minim maxim payload pmin pmax optrep o [ ] detail next post algorithm current sequenc post hypothet new repres p approxim guarante test coalesc post old repres output sequenc o bookkeep time complex algorithm o n note assumpt sort order index list temporal-coalesc algorithm addit preprocess cost o |lv| log index list subsequ document sublist materi effici queri q t time-travel invert index advers wast i/o due post tempor implicitli problem overal index list size still signific overhead section problem idea sublist contigu subinterv time full index sublist post correspond time interv sublist note post valid time-interv span tempor boundari sever sublist span sublist thu order queri q t time t1 t2 t3 t4 t5 t6 t7 t8 t9 t10 d1 d2 d3 document figur sublist materi suffici materi sublist timeinterv idea sublist materi exampl figur index list lv figur total post document d2 d3 eas descript boundari valid time-interv time-ord t1 t10 post now process queri q t t ∈ [ t1 t2 invert list onli post post valid time t whole invert list case time axi list time t2 sublist post respect then abov queri optim cost onli post t first glanc counterintuit index size first step tempor coalesc then again sublist materi techniqu section howev main object effici queri not index size alon use tempor perform index size sublist materi perform judici entri further techniqu separ independ conjunct though synerget effect sublist tempor index gener notat lv [ ti tj materi sublist time interv [ ti tj formal lv [ ti tj d p [ tb te lv | tb < tj ∧ te > ti present rest paper first definit t = t1 tn sort sequenc uniqu time-interv boundari invert list lv then e = [ ti ti+1 ≤ i n set elementari time interv set time interv sublist m ⊆ [ ti tj ≤ i j ≤ n demand ∀ ∈ [ t1 tn m ∈ m t ∈ m ie time interv m complet time interv [ t1 tn time-travel queri t t ∈ [ t1 tn also interv m disjoint assumpt optim solut regard space perform space materi sublist set m s m x m∈m |lv m| ie total length list m given set m π [ ti ti+1 [ tj tk m [ ti ti+1 [ tj tk time interv queri t t ∈ [ ti ti+1 perform queri t t ∈ [ ti ti+1 invers process cost pc [ ti ti+1 |lv π [ ti ti+1 | proport length list lv π [ ti ti+1 thu order perform queri process cost performance/space-optim approach one strategi problem skip post eagerli sublist elementari time interv m = e so queri q t onli valid time t thu possibl perform therefor approach popt remaind initi approach onli full list lv thu pick m = [ t1 tn refer sopt remaind approach minim space exactli onc popt sopt extrem former possibl perform not space-effici latter minim space not good perform approach rest section mutual space perform thu as mean configur spectrum popt sopt approach performance-guarante approach popt approach clearli lot space mani nearly-ident sublist exampl figur sublist [ t1 t2 [ t2 t3 differ onli post sublist [ t1 t3 instead signific space onli overhead t ∈ [ t1 t3 techniqu next idea signific space save popt achiev upper-bound loss perform differ perform guarante rel optimum detail techniqu pg perform guarante remaind set m space guarante elementari time interv [ ti ti+1 thu queri q t t ∈ [ ti ti+1 perform optim factor γ ≥ formal problem argmin m s m st [ ti ti+1 e pc [ ti ti+1 γ · |lv [ ti ti+1 | optim solut problem mean induct recurr c [ t1 tk+1 c [ t1 tj |lv [ tj tk+1 ≤ j ≤ k ∧ condit c [ t1 tj optim cost space prefix subproblem [ ti ti+1 e | [ ti ti+1 [ t1 tj condit stand ∀ [ ti ti+1 e [ ti ti+1 [ tj tk+1 |lv [ tj tk+1 ≤ γ · |lv [ ti ti+1 | intuit recurr optim solut [ t1 tk+1 optim solut prefix subproblem c [ t1 tj time interv [ tj tk+1 perform guarante pseudocod algorithm space reason technic report ] time complex algorithm o n2 prefix abov recurr possibl linear time list |l [ ti tj | space complex o n2 cost sublist length optim solut subproblem space-bound approach so far problem sublist guarante perform minim space mani situat though storag space premium aim set sublist perform not space limit techniqu next sb veri problem space restrict mean user-specifi paramet κ maximum blowup index size space-optim solut sopt sb techniqu set m space limit expect process cost thu expect perform definit process cost p [ ti ti+1 probabl queri time-point [ ti ti+1 formal space-bound sublist-materi problem argmin m x [ ti ti+1 e p [ ti ti+1 · pc [ ti ti+1 st m∈m |lv m| ≤ κ |lv| problem dynam program number time interv time interv e algorithm new materi time-interv materi decis previou time interv track requir space consumpt materi detail descript algorithm here technic report ] unfortun algorithm time complex o n3 |lv| space complex o n2 |lv| not practic larg data set approxim solut problem [ ] simul fix number r round solut space round random successor current solut successor not space limit alway current solut successor space limit alway process cost current solut process cost randomli probabl e−∆/r ∆ increas process cost r ≥ r number round addit round method track solut so far solut space problem hand effici abov sole set m complet time interv [ t1 tn not overlap time interv such set m array n boolean variabl b1 bn boundari time interv set note b1 bn alway true initi intermedi variabl fals set m = [ t1 tn random successor now easili valu n − intermedi variabl time complex method o n2 expect process cost round space complex o n n boolean variabl side remark note κ = sb method not necessarili solut sopt solut same amount space perform experiment evalu comprehens seri experi real-world dataset techniqu paper setup dataset techniqu paper prototyp system java jdk experi singl sun v40z machin amd opteron cpu ram larg network-attach raid-5 disk array microsoft window server data index oracl databas same machin experi differ dataset english wikipedia revis histori wiki remaind avail free download singl xml file larg dataset tbyte full histori english wikipedia januari decemb time download articl version result minor edit correct error etc total document version mean µ version document standard deviat σ time-travel queri workload queri log temporarili avail recent aol research first frequent keyword queri result click wikipedia articl eg french revolut hurrican season vinci code etc thu extract queri total distinct term extract queri time point month dataset total × time-travel queri second dataset experi subset european archiv [ ] weekli crawl govuk websit year close tbyte raw data document not mime-typ text/plain text/html dataset tbyte ukgov rest paper total document version µ = σ = correspond queri workload time keyword queri site govuk domain minimum wage inherit tax citizenship ceremoni date randomli time point month year period dataset thu total × time-travel queri ukgov dataset total term extract queri collect statist n avdl term statist df monthli granular dataset impact tempor coalesc first set experi approxim tempor coalesc techniqu section term index-s reduct effect result qualiti wiki ukgov dataset tempor index differ valu error threshold algorithm non-coalesc index baselin wiki ukgov post ratio post ratio % % % % % % % % % % % % % % tabl index size non-coalesc index index differ valu tabl index total number post result approxim tempor coalesc highli effect index size even small threshold valu eg consider effect index size almost order magnitud note ukgov dataset even accur coalesc = manag index size % origin size index size dataset valu reduct index size queri result order aspect top-k result coalesc index ground-truth result origin index differ cutoff level let gk ck top-k document ground-truth result coalesc index respect follow measur comparison i rel recal cutoff level k rr @ k overlap gk ck [ ] rr @ k = |gk ∩ ck|/k ii kendal s τ [ ] detail definit cutoff level k kt @ k agreement result rel order item gk ∩ ck valu -1 total agreement disagr plot cutoff level mean rr @ k kt @ k % % percentil differ valu threshold start note = result origin index henc graph result tempor coalesc induc minim disrupt queri result rr @ k kt @ k reason limit = valu experi rr wiki indic result -1 -05 ε rel recal @ wiki kendal τ wiki rel recal ukgov kendal τ ukgov -1 ε rel recal @ wiki kendal τ wiki rel recal ukgov kendal τ ukgov b figur rel recal kendal s τ coalesc index differ valu almost indistinguish origin index even rel order common result quit high mean kt @ close extrem valu result index size just % origin rr @ kt @ respect rel less dynam ukgov dataset σ valu result even high valu rr kt spectrum valu cutoff valu sublist materi now attent sublist materi techniqu section dataset coalesc index moder threshold set order comput effort boundari elementari time interv day granular sublist materi howev post materi sublist still origin timestamp compar evalu approach popt sopt pg sb space perform requir space s m equal total number post materi sublist assess perform expect process cost epc term respect queri workload uniform probabl distribut queri time-point mean epc as well % % -percentil other word mean epc expect length index list term index post random time point random term queri workload sopt popt approach definit parameter-fre pg approach paramet γ maxim perform degrad analog sb approach paramet κ upper-bound allow space blowup solut sb approach simul anneal r = round tabl obtain space perform figur epc valu wiki ukgov term queri workload wiki rel rarer corpu depict result follow key observ i popt optim perform cost enorm space consumpt sopt contrari optim amount space onli poor process cost pg sb method differ valu respect paramet solut space perform lie extrem popt sopt repres ii pg method accept perform degrad onli % ie γ = requir space drop order magnitud comparison dataset iii sb approach close-to-optim perform dataset time optim amount space κ = dataset still space reduct popt order magnitud also wall-clock time sampl queri result improv execut time factor conclus work effici solut time-travel text search tempor document collect experi real-world dataset combin techniqu index size order magnitud nearli optim perform highli accur result present work mani interest question futur research even perform possibl encod compress techniqu ] approach queri [ tb te ] time interv instead time point describ time-travel text search function enabl text mine time axi eg sentiment chang custom opinion grate anonym review valuabl comment particular review opportun algorithm improv section section 62 