collabor document process mani approach so far focu document version collabor edit issu differ angl concept architectur pervas document edit manag system databas techniqu real-tim updat sophist collabor scenario multipl devic user alway upto-d document work document meta data conceptu architectur system exampl categori subject descriptor c24 distribut system [ computer-commun network ] comput system organ distribut system distribut applic gener term manag measur document econom human factor introduct text document valuabl resourc virtual enterpris organ document paper report gener busi document larg part today s busi knowledg document mostli hierarch folder structur file server difficult regard classif etc utmost import user up-to-d version document user-friendli way problem descript commonli word-process applic document onli user time tool pervas collabor document manag rare today s world fact peopl location- time- independ import pervas collabor work ie collabor document manag total neglect document therefor vulner sourc today s world appropri solut need document collabor anytim everywher almost suitabl devic guarante mechan secur consist avail access control obviou addit word process system fact histori text document crucial inform manag such meta data creation date creator author version location-bas inform such time place user document so such meta data document creation process versatil especi field pervas document manag meta data crucial import total new way document hand user actual situat user s object meta data user possibl view document depend actual inform other hand as soon user read document new meta data order system adapt sens user situat futur user view document as far system aforement requir veri good overview realtim commun collabor system [ ] strive pervas document manag system pervas collabor document manag user abl document wherev whomev devic paper collabor database-bas real-tim word process pervas document manag function user document collabor sophist document manag facil user alway up-to-d document document base meta data addit document data ‘ first class citizen databas [ ] concept concept pervas document manag system appropri architectur foundat concept implement tendax [ ] collabor database-bas document manag system pervas document edit manag tendax text nativ databas extens storag text databas nativ form text final real-tim transact term ‘ text follow write text charact text text layout structur note access right busi process tabl pictur so ie action regularli word process user ‘ real-tim transact text eg character/word sever databas transact everyth type editor as soon object persist instead file file system content meta data belong document special way databas veri fast real-tim transact task ] databas schema above-ment transact such way everyth multius environ usual databas technolog consequ mani achiev respect organ queri recoveri integr secur enforc multi-us oper distribut manag uniform tool access now mean approach also avail word process pervas edit manag system above-ment database-bas tendax approach document data nativ databas support collabor text edit document manag pervas document manag system system document easili everywher network anytim independ number user same document devic desktop notebook pda mobil phone etc rtsc rtsc rtsc rtsc as db db as db a b c d e f g figur tendax applic architectur contrast document local hard drive file server system automat user up-to-d version document chang document persist databas immedi client same document addit data whole document creation process enabl document manag text sql api abstract interfac approach tool devic system follow compon figur editor java present layer a-g figur aim layer integr well-known applic such openoffic busi layer interfac databas word-process applic follow compon applic server as 1-4 figur enabl databas environ care awar secur document manag etc collabor real-tim multi-us environ real-tim server compon rtsc figur respons propag inform ie updat connect editor storag engin data layer primarili store content document as well relat meta data databas peer-to-p network db figur  follow present databas schema editor real-tim server compon as well concept dynam folder sophist document manag basi meta data applic architectur a database-bas real-tim collabor editor same document simultan same comput network sever comput mobil devic concurr issu as well messag propag approach multipl instanc same document ] insert delet action databas transact such immedi persist databas client same document databas schema text nativ way charact text document singl object databas ] text such nativ form perform databas system crucial import concept perform issu such text databas [ ] collabor layout ] dynam collabor busi process document [ ] text creation time meta data model [ ] relat databas [ ] figur core databas schema client databas session instanc import attribut session documentsess attribut refer documentsess instanc open document document documentsess instanc documentsess import realtim server compon case char id id internalfil id activ ir ir charactervalu unicod id start end end files user id last last style dtd id use use author descript password pictur usercolor userlistsecur filenod id references/isreferencedbi dynam dynstructur nodedetail nodetyp parent parent role id name descript user name main role filenodeaccessmatrix id accessmatrix read option grand option write option access time … time … contains/ispartof ir ir andinclud lineag id refer befor copypast id refer copi copi hascopypast id activelength str stream / regularchar startchar endchar file externalfil url type extens titl documentsess id session id isconnectedwith versionnumb use option grand option option uniqu dtd stream column id on/off isvisible…for fals languageprofil id name profil mark id intern hasrank onposit start end logic style ital underlin part align size font hascolor use elementnam stylesheetnam process id os web session mainrol role date time timestamp date time timestamp date time timestamp date time timestamp date time type port ip messagepropag id pictur stream name pictur id layoutblock workflowblocklogicalblock blockdatatyp properti blockdata workflowinst id isin taskinst id parent timestamp date time timestamp date time timestamp date time timestamp date time last comment typei timestamp date time timestamp date time timestamp date time < < last categori editor statu timestamp date time < statu last timestamp date time due duetyp timezon timestamp date time < isfollowedbi task code descript indent refer hasbeenopenedat timestamp redohistori refer hascharcount inha actionid code timestamp date time version id isbuild timestamp date time < createdat undohistori id name name befor < < refer charcount timestamp activ offset timestamp index id lexicon id isof frequenc stop word term end start < < origin start wordnumb sentencenumb paragraphnumb citaton istemporari structur elementpath createdat timestamp < < spiderbuild id timestamp date time < lastupdatedat structur < < neededtoindex time ms indexupd isrunningbyo lastupd timestamp time stopcharact descript charact valu ascii sentenc stop paragraph stop name optionsset show inform show warningsshow except intern lineag ask unknown sourc show intra document lineag inform x x x virtualbord id ir ir usermod code usermod code figur tendax databas schema object role model diagram chang document client respons updat inform client same document documentid class documentsess point filenod instanc id open document instanc class filenod folder node document node folder node folder file system document node file instanc class char charact document valu charact attribut charactervalu sequenc attribut class char particular instanc char mark begin end document method insertchar removechar delet charact editor document nativ databas editor not replica part nativ text databas sens databas replica instead so-cal imag replica even sever author same text same time uniqu document time system uniqu view document number step first inform imag secondli correspond method databas thirdli imag fourthli other client chang real-tim server compon real-tim server compon respons real-tim propag chang document editor editor same document editor applic server turn connect databas databas also connect real-tim server compon isn t alreadi connect databas system real-tim server compon new editor session session realtim server compon sessionmanag then editor well real-tim server compon real-tim server compon editor socket client s data structur sessionmanag then readi time chang document editor persist databas databas messag real-tim server compon turn chang editor same document therefor special commun protocol updat protocol updat real-tim server compon updat protocol databas editor messag databas real-tim server compon messag affect editor updat protocol differ messag type messag packag packag inform real-tim server compon wherea packag editor updat inform figur rtsc || paramet | … | parameter|| || editor data || protocol databas system real-tim server compon protocol real -time server compon editor protocol follow messag type ||u|sessionid sessionid||||editor data|| u updat messag sessionid id client session messag real-tim server compon editor data packag editor sessionid list ||ud|fileid||||editor data|| ud updat document messag fileid id file messag type real-tim server compon editor data editor document indic file-id class model figur class model as well environ real-tim server compon environ mainli editor databas other client applic use real-tim server compon connectionlisten class respons connect client ie databas editor connect type databas editor connect editorwork instanc databasemessagework instanc respect editorwork class connect type ‘ editor connect socket input output stream sessionmanag sessionmanag class similar ‘ in-memori databas editor session inform eg editor socket editor document etc data structur databasemessagework class respons connect type ‘ databas run-tim onli connect databas updat messag databas databasemessagework help addit inform sessionmanag correspond client serviceclass class set method read messag tdbmpeditor tdbmpdatabas tdbmpmgmt editorwork databasemessagework sessionmanag messagehandl connectionlisten serviceclass messagequeu tdbmplisten tdbmpservic junittest * editor * * * tcp/ip figur real-tim server compon class diagram dynam folder as action user immedi databas same time inform current transact inform databas charact multitud inform later retriev document meta data charact level document structur layout workflow templat semant secur workflow note level document section level whole document ] above-ment meta data crucial inform content word process document meta data altern storag system document case not easi task user familiar well known hierarch file system also main reason not complet classic file system rather folder classic hierarch file system static folder folder document meta data dynam folder inform databas file system too databas dynam folder sub-tre meta data user thu first step dynam folder definit level dynam folder exactli meta data item follow exampl step order dynam folder meta data first step meta data dynam folder tabl sequenc meta data structur folder furthermor meta data restrict granular user restrict access document granular therefor number sub-fold partit document user tree structur dynam folder branch document s directori name data determin content sub-fold question level document so far meta data tabl dynam folder exampl level meta data restrict granular creator onli show document user leon hodel gall folder creator current locat onli show document read current locat folder task statu author onli document % user ‘ leon % folder ad-hoc chang granular restrict possibl order search comfort user possibl dynam folder frequent use eg location-bas folder as well dynam folder ad-hoc basi furthermor content such dynam folder second chang other user moment propos architectur exampl charact insert insert oper mostli oper collabor system charact insert tendax insert algorithm formal follow algorithm purpos insert charact algorithm symbol c object charact p stand previou charact n stand next charact charact object c symbol l list charact object = charact p=previou charact n = next charact l = list charact symbol c1 first charact list l ci stand charact list l posit i i valu length list l stand last charact list l c1 = first charact list l ci = charact posit i list l cn = last charact list symbol β special charact begin document ε special charact end document β=begin document ε=end document function startta transact startta = start transact function committa transact committa = commit transact function checkwriteaccess check write access document session s checkwriteaccess check write access document session s function lock exclus lock charact c return success success lock c = lock charact c success return success return function lock transact so far releaselock = releas function getprevi previou charact getnext next charact charact c getprevi c previou charact charact c getnext c next charact charact function link charact p charact x function linkaft succeed charact n charact y linkbefor p x charact p x linkaft n y = charact n function link charact p first charact c1 charact list l charact n last charact cn charact list l updatestr l p n = linkbefor p cl ∧ linkaft n cn function insertchar charact c tabl char field charact p charact n insertchar c p n linkaft c p ∧ linkbefor c n ∧ linkbefor p c ∧ linkaft n c function determin previou character' charactervalu charact c previou character' statu activ checkpreced c return statu charactervalu previou charact function next character' charactervalu charact c next charact statu activ checksucceed c return statu charactervalu next charact function checkcharvalu charactervalu charact c checkcharvalu c return charactervalu charact function sendupd updat messag updatemessag databas real-tim server compon sendupd updatemessag function read real-tim server compon updatemessag read updateinformationmessag function allocateditor check base updatemessag sessionmanag editor allocateeditor updateinformationmessag sessionmanag = affect editor function sendmessag editordata editor part updatemessag editor sendmessag editordata tendax insert algorithm class method insertchar class char figur relev paramet definit beneath follow list nextcharacteroid oid charact next string previouscharacteroid oid charact previous string characteroid list list charact thu insert charact stepwis transact startta charact charact string getprevi nextcharacteroid prevchar prevcharoid ⇐ π ϑoid = nextcharacteroid char lock charact document charact string lock prevcharid time list characteroid charact c1 … cn charact string appropri posit preced charact charact ci characteroid insertchar ci p n wherea ∈ c1 … cn check preced charact activ begin end document checkpreced prevcharoid = isok isact charactervalu π isact charactervalu ϑ oid = nextcharacteroid char checksucceed nextcharacteroid isok isact charactervalu π isact charactervalu ϑ oid = nextcharacteroid char updat charact string updatestr characteroid prevcharoid nextcharacteroid releas lock commit transact releaselock send updat inform real-tim server compon sendupd updatenmessag read updat messag inform editor chang read updatemessag alloc editor updatemessag sessionmanag sendmessag editordata insert charact exampl figur snapshot system ie architectur databas peer-to-p network databas applic server applic server real-tim server compon rtsc editor real-tim server compon correspond databas editor a editor b same document databas editor b now charact document insert oper server turn databas insert oper charact algorithm previou section insert databas updat messag updat protocol befor real-tim server compon as combin receiv updat inform inform sessionmanag editor data affect editor case editor a b chang immedi collabor conflict [ ] summari approach paper implement prototyp real-tim collabor edit manag document special way databas approach secur consist avail document consequ pervas document manag pervas document manag due architectur embed real46 time server compon chang document immedi consequ up-to-d document document manag consequ anywher anytim devic above-descri system run prototyp system soon line student workshop next autumn 