harvest energi environ feasibl mani applic energi limit sensor network paper adapt duti algorithm energi sensor node autonom duti cycl energi avail environ algorithm object name energi neutral oper energi consumpt not energi environ b system perform applic util model subject abov energyneutr constraint c dynam energi sourc run-tim model sensor node futur energi opportun histor data also upper bound maximum achiev perform perfect knowledg futur behavior energi sourc method data prototyp solar energi platform algorithm up % environment energi case harvesting-awar power manag not categori subject descriptor c24 [ comput system organ ] comput commun networks-distribut system gener term algorithm design introduct energi suppli alway crucial issu battery-pow wireless sensor network lifetim util system long batteri abl oper fidel data sensor network onc sensor node out batteri power therefor energi environ complet batteri suppli system lifetim mainten cost batteri period howev metric energi system differ batteri system environment energi distinct batteri energi way first inexhaust suppli appropri system last forev batteri limit resourc second uncertainti avail measur energi batteri determinist thu power manag method batteri statu not alway applic energi system addit power manag scheme battery-pow system onli dynam energi consum eg cpu radio not dynam energi suppli consequ batteri system usual perform level minimum data fidel requir order system life energi system other hand enhanc perform avail energi paper perform avail energi profil mani techniqu perform scale node level such radio transmit power adjust ] dynam voltag ] use low power mode ] howev techniqu hardwar support not alway avail resourc sensor node altern common perform scale techniqu duti low power devic typic low power mode node down power consumpt neglig addit rate duti cycl directli system perform metric such network latenc sampl frequenc duti cycl adjust primit perform scale techniqu algorithm relat work energi harvest sever differ type system such wearabl comput ] ] ] sensor network ] sever technolog energi environ solar motion-bas biochem vibration-bas [ ] ] ] ] other ] ] sever energi sensor node platform ] ] ] need systemat power manag techniqu perform guarante system oper first work environment energi account data [ ] ] work environ awar decis perform awar decis object not energi neutral oper techniqu system perform energy-neutr oper system model energi usag consider harvest system significantli batteri power system model figur energi manag method harvest system function variou block figur precis method system function subsequ section harvest energi track block mechan energi harvest devic such solar panel such inform use energi avail profil system perform inform node hardwar facil power environ heliomot platform ] algorithm capabl energi gener model wireless sensor node limit storag process capabl abl harvest energi data model essenti compon inform extens storag purpos block model energi avail system form power manag decis data energi block here futur energi avail good predict model low predict error energi valu durat long enough meaning perform scale decis further energi sourc long-term short-term pattern eg diurnal climat variat weather pattern solar energi model abl characterist model also inform extern sourc such local weather forecast servic accuraci energi consumpt model also import inform energi usag characterist system variou perform level gener applic design onli sleep mode avail power consumpt sleep activ mode low power system advanc capabl such dynam voltag scale dv multipl low power mode capabl system compon select power consumpt state result effect applic perform power manag decis energi storag model block model energi storag technolog energi not instantan harvest system usual energi storag technolog storag technolog eg batteri ultra-capacitor non-id energi loss energi characterist effici energi usag storag block also system capabl residu energi low power system batteri energi residu batteri statu commonli batteri voltag then residu batteri energi charg relationship batteri technolog use sophist method flow energi batteri also avail harvesting-awar power manag input previous block here suitabl power manag strategi system power manag differ object differ applic instanc system energi margin batteri suppli object system lifetim interest case energi primari sourc energi system object indefinit long system lifetim such case power manag object energi neutral oper other word system onli much energi environ attempt perform avail energi budget theoret optim power manag theori energi neutral mode oper ps t energi environ time t energi load time pc t further non-id storag buffer round-trip effici η strictli constant leakag power pleak notat rule energi conserv follow inequ [ [ t t t c c s leakp t p t dt p t p t dt p dtb η + + − − − ≥+ −∫ ∫ ∫ b0 initi batteri level function [ x ] + = x x otherwis definit ρ σ1 σ2 function non-neg continu bound function p t ρ σ1 σ2 function onli valu finit real number t t t p t dt tρ σ ρ σ− ≤ ≤ +∫ function energi sourc load energi profil ps t ρ1 σ1 σ2 function then averag rate avail energi long durat ρ1 bursti σ1 σ2 similarli pc t ρ2 σ3 function ρ2 σ3 upper bound power consumpt inequ right side minimum power consumpt constraint condit energi neutral equat follow theorem energi product consumpt energi buffer model energi neutral oper harvest system energi product profil ρ1 σ1 σ2 function load ρ2 σ3 function energi buffer paramet η storag effici pleak leakag power follow condit suffici system energi neutral ρ2 ≤ ηρ1 − pleak b0 ≥ ησ2 + σ3 b ≥ b0 b0 initi energi buffer bound capac energi buffer b proof prior work [ ] duti cycl d perform scale algorithm follow relat duti cycl perceiv util system user util applic user u d system duti cycl d then min max max u d d d u d k d d d d u d k d d β = < = + ≤ ≤ = > fairli gener simpl model specif valu dmin dmax applic requir exampl sensor node intrus peripheri case linear increas duti cycl linear increas detect probabl speed intrud minimum harvest energi track energi consumpt model energi storag model harvestingawar power mangement energi gener model load figur system model energi harvest system maximum delay toler result relev dmax dmin sensor node case relationship util duti cycl non-linear paper focu applic linear model view abov model system compon requir perform object power manag strategi duti cycl d i dynam so total util u d period time energi neutral oper sensor node perform scale method awar duti cycl adapt first optim power manag strategi possibl energi gener profil calcul optim strategi complet knowledg energi avail profil node avail futur calcul optim use tool perform algorithm particularli use algorithm prior algorithm avail baselin comparison time axi discret slot durat δt duti cycl adapt calcul window nw such time slot follow energi profil variabl index i … nw ps i power output sourc time slot i slot durat pc power consumpt load activ mode d i duti cycl slot i valu b i residu batteri energi begin slot i convent batteri energi last slot window b nw+1 valu variabl choic d i energi directli sourc energi batteri differ figur show possibl case ps i time slot ps i either pc left right respect ps i pc energi load batteri ps i pc energi directli sourc crosshatch area energi avail storag batteri hash area energi drawn batteri energi batteri slot i ] cs s sb i b i td i p p i tp i d i td i p i pη η + + − + = δ − − δ − − − equat first term right hand side energi drawn batteri ps i pc next term energi batteri node sleep mode last term energi batteri activ mode ps i pc energi neutral oper batteri end window nw slot equal batteri clearli batteri level energi not avail system energi howev window nw judici such durat environment energi avail period cycl instanc case solar energi harvest nw twenty-four hour durat diurnal cycl harvest energi approxim ideal choic window size infinit finit size analyt tractabl further batteri level not neg time larg enough initi batteri level b0 such node oper even case total blackout window period abov constraint quantit calcul optim duti cycl optim problem max wn i d i ∑ s s s cb i b i td i p p i tp i d i td i p i pη η + + ⎡ ⎤ ⎡ ⎤− + = δ − − δ − − −⎣ ⎦ ⎣ ⎦ b b= wb n b+ ≥ min w n d i d≥ ∀ ∈ max w n d i d≤ ∀ ∈ solut optim problem duti slot evolut residu batteri cours nw slot constraint non-linear function [ x ] + quantiti function known constant variabl quantiti onli linear term henc abov optim problem standard linear program techniqu avail popular optim toolbox harvesting-awar power manag now practic algorithm power manag perform harvest energi inform algorithm energi neutral oper knowledg futur energi avail achiev perform constraint harvesting-awar power manag strategi part first part instanti energi gener model energi input profil futur energi avail second part optim duti cycl predict energi step comput tractabl method optim problem third part method dynam duti cycl respons observ energi gener profil real time step observ energi gener significantli energi avail energi neutral oper actual energi rather predict valu energi predict model predict model exponenti moving-averag ewma method diurnal cycl solar energi same time adapt season variat histor summari energi gener profil purpos storag data size vector length nw valu order memori overhead power manag algorithm window size effect infinit valu histori window data up instant window size hour time slot minut variat gener power solar panel set % adjac slot nw = smaller slot durat expens nw histor summari typic day energi gener similar energi gener same time previou day valu energi particular slot weight averag energi same time-slot observ day weight exponenti contribut figur possibl case energi calcul slot i slot k pc pc p i p i activ sleep data specif histor averag slot k α valu weight factor kx observ valu energi slot − previous histor averag model import day previou one constant same weight factor day averag valu slot estim energi valu slot subsequ day method histor averag valu season variat energi differ day paramet abov predict method paramet α measur rate shift energi pattern time paramet characterist energi sensor node locat system train period paramet good valu α energi data day averag error predict method variou valu α error differ valu α figur curv optimum valu α = minimum predict error valu remaind paper low-complex solut energi valu next window nw slot desir duti cycl next window predict valu observ valu futur object practic algorithm embed system simplifi method linear program problem section end set s d | | s c s s i p i p d i p p i − ≥ = − set condit node oper entir environment energi case energi environ not suffici batteri energi side entir nw window new notat [ ] [ nw nw nw i s s s c i d i s b b td i p p i tp i tp i d i td i p i pη η η+ = ∈ = = ∈ − = δ − − δ + δ − δ −∑ ∑ ∑ ∑ term left hand side actual batteri energi entir window nw slot energi neutral oper algebra manipul yield nw s s c i d i s p p i d i p i p d i η= ∈ ∈ ⎛ ⎞⎛ ⎞ = + − +⎜ ⎟⎜ ⎟ ⎝ ⎠⎝ ⎠ ∑ ∑ ∑ term left hand side total energi nw slot first term right hand side total energi d slot second term total energi s slot now constraint origin problem optim problem max wn i d i nw s s c i d i s p p i d i p i p d i η= ∈ ∈ ⎛ ⎞⎛ ⎞ = + − +⎜ ⎟⎜ ⎟ ⎝ ⎠⎝ ⎠ ∑ ∑ ∑ min max d i d nw d i d nw i ∀ ∈ ≤ ∀ ∈ form low complex solut doesn t gener linear solver object total system util prefer duti cycl dmin time slot util unit energi other hand also time slot ps dmax effici energi directli energi sourc characterist util co-effici slot i c c s p i s w i p p i i d η η ∈⎧ ⎪ = ⎛ ⎞⎛ ⎞⎨ + − ∈⎜ ⎟⎜ ⎟⎪ ⎝ ⎠⎝ ⎠⎩ w i represent effici energi usag particular time slot i a w i system util unit energi slot i vice versa algorithm d i =dmin i = minimum duti cycl requir system energi nw s s c i d i s p r p i d i p i p d i η= ∈ ∈ ⎛ ⎞⎛ ⎞ = − + − −⎜ ⎟⎜ ⎟ ⎝ ⎠⎝ ⎠ ∑ ∑ a neg r optim problem infeas system not energi neutral even minimum duti cycl case system design respons environ energi avail eg solar panel r posit system excess energi not duti cycl dmin slot object total system util effici way excess energi duti cycl dmax slot w i so coeffici w i order duti cycl dmax slot coeffici excess energi avail r iter insuffici dmax slot energi rlast duti cycl valu dmin dmax slot next coeffici slot index j duti cycl d j min / last c last s c s r p j d dr j s p j p p jη ∈⎧ ⎫ ⎪ ⎪ +⎨ ⎬ ∈⎪ ⎪− −⎩ abov solut optim problem onli simpl arithmet calcul step easili embed platform gener linear program solver slot-by-slot continu duti cycl adapti observ energi valu greatli predict one such due effect cloud other sudden chang thu import duti cycl predict valu actual energi measur real time energi neutral initi duti cycl assign time slot i predict energi valu d i nw first differ predict power level ps i actual power level ps i slot i then excess energi slot i x [ ] s s c s s s s s p i p i p p x p i p i d i p i p i p p η − > ⎧ ⎪ = ⎨ − − − − ≤⎪ alpha avgerror ma figur choic predict paramet upper term account energi differ actual energi power drawn load other hand energi pc extra energi batteri load function duti cycl time slot i batteri effici factor η energi x posit excess energi avail use subsequ solut x neg energi subsequ slot case x case duti cycl futur slot order shortfal energi object function total system util duti cycl time slot normal util coeffici w i first coeffici w j j > i order then iter dj dmin total reduct energi consumpt same x case ii x here duti cycl futur excess energi recent time slot contrast case duti cycl futur time slot util coeffici w i first order total system util duti cycl d slot j quantiti r j d ⎪ ⎩ ⎪ ⎨ ⎧ < =⎟ ⎟ ⎠ ⎞ ⎜ ⎜ ⎝ ⎛ ⎟⎟ ⎠ ⎞ ⎜⎜ ⎝ ⎛ −+ > ⋅ = l ljl ppifp p d ppifp d precis procedur duti cycl abov factor algorithm calcul end slot duti cycl next slot duti cycl algorithm energi neutral surplu energi previou time slot alway addit energi opportun futur time slot vice versa claim case sever energi shortag especi end window exampl larg deficit energi suppli t futur energi input end window such case offset next window long term energi neutral still adapt duti algorithm actual solar energi profil sensor node heliomot capabl solar energi ] platform not onli gener energi also energi flow batteri accur estim store energi energi platform residenti area lo angel begin june middl august total day sensor node mica2 mote fix % duti cycl initi full batteri batteri voltag net current solar panel period second energi gener profil durat output current solar cell figur continu diurnal scale energi profil vari day day still gener pattern sever day day hour ma predict model first perform predict model amount absolut error predict actual energi profil figur averag error time slot ma entir day gener amount error day time s factor weather deviat receiv energi predict night time mostli correct adapt duti cycl algorithm prior method perform energi neutral oper energi scarc instead perform algorithm extrem theoret optim complet knowledg futur energi avail simpl approach energi neutral fix duti cycl batteri ineffici optim duti cycl slot futur knowledg actual energi slot simpl approach duti cycl constant day figur solar energi profil continu right diurnal input d initi duti cycl x excess energi due predict p energi profil i index current time slot output d duti cycl subsequ slot adaptdutycycl iter time slot x wsort = w nw order q = indic wsort k = q k ≤ i d q k dmax //slot alreadi continu r q k dmax − d q k x d q k dmax x = x − r j dmax − d q k els //x insuffici duti cycl dmax p q k pl d q k d q k x/pl els d q k d q k + s x p p q kη η+ − x wsort = w nw order q = indic wsort k = q k ≤ d q k dmin r q k dmax − d q k x d q k dmin x = x − r j dmin − d q k els p q k > pc d q k d q k x/pc els d q k d q k + s x p p q kη η+ − algorithm pseudocod duty-cycl adapt algorithm figur averag predictor error ma time h abserror ma ratio predict energi avail maximum usag senor node never batteri run duti cycl  w c i nw d p i n pη ∈ = ⋅ ⋅∑ then perform algorithm extrem batteri effici figur result dmax dmin = batteri effici x-axi solar energi util algorithm y-axi fraction net energi use work rather due ineffici figur batteri effici factor great impact perform differ approach approach converg % util perfect batteri η=1 energi not batteri batteri ineffici account adapt optim approach much solar energi util rate simpl addit result also adapt duti cycl algorithm perform extrem close optim eta-bateri roundtrip effici solarenergyutil % optim adapt simpl also perform algorithm differ valu dmin dmax η=07 typic nimh batteri result tabl percentag energi optim adapt approach energi normal simpl approach figur tabl indic real time algorithm abl perform veri close optim feasibl addit result environment energi appropri power manag much util environment energi dmax dmin adapt % % % % % % optim % % % % % % conclus variou issu power manag system environment energi specif method perform subject constraint energi neutral oper also theoret optim bound perform algorithm veri close optim propos real data energi sensor node outdoor environ method signific advantag current method conserv estim duti cycl onli sub-optim perform howev work onli first step toward optim solut energi neutral oper specif power method duti cycl sever other power method such dv submodul power switch use multipl low power mode also avail thu interest method advanc capabl research part support darpa pac/c program nation scienc foundat nsf award ucla center embed network sens cen opinion find conclus recommend paper author not necessarili view darpa nsf cen 